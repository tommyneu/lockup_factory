define(["exports"],function(t){"use strict";function e(t){return l(t)||o(t)||n(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(t,e){if(t){if("string"==typeof t)return i(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(t,e):void 0}}function o(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function l(t){if(Array.isArray(t))return i(t)}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e,a){return e&&s(t.prototype,e),a&&s(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.DCFAutoplayVideoToggleTheme=t.DCFAutoplayVideoToggle=void 0;var c=function(){function t(){r(this,t),this.toggleBtnClassList=["dcf-btn-autoplay-video-toggle","dcf-btn","dcf-btn-primary","dcf-z-1","dcf-absolute","dcf-bottom-0","dcf-right-0","dcf-d-flex","dcf-ai-center","dcf-jc-center","dcf-mb-3","dcf-mr-3","dcf-h-7","dcf-w-7","dcf-p-0","dcf-circle"],this.togglePlayBtnInnerHTML='<svg class="dcf-h-4 dcf-w-4 dcf-fill-current" width="24" height="24" viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path d="M21.759 11.577L2.786.077a.499.499 0 0 0-.759.428v23a.498.498 0 0 0 .5.5c.09 0 .18-.024.259-.072l18.973-11.5a.5.5 0 0 0 0-.856z"></path></svg>',this.togglePauseBtnInnerHTML='<svg class="dcf-h-4 dcf-w-4 dcf-fill-current" width="24" height="24" viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path d="M10.5 0h-5C5.224 0 5 .224 5 .5v23C5 23.776 5.224 24 5.5 24h5c.276 0 .5-.224.5-.5v-23C11 .224 10.776 0 10.5 0zM18.5 0h-5C13.224 0 13 .224 13 .5v23c0 .276.224.5.5.5h5c.276 0 .5-.224.5-.5v-23C19 .224 18.776 0 18.5 0z"></path></svg>'}return u(t,[{key:"setThemeVariable",value:function(t,e){switch(t){case"toggleBtnClassList":Array.isArray(e)&&(this.toggleBtnClassList=e);break;case"togglePlayBtnInnerHTML":"string"==typeof e&&(this.togglePlayBtnInnerHTML=e);break;case"togglePauseBtnInnerHTML":"string"==typeof e&&(this.togglePauseBtnInnerHTML=e)}}}]),t}();t.DCFAutoplayVideoToggleTheme=c;var d=function(){function t(e){r(this,t),this.autoplayVideos=[],this.theme=e instanceof c?e:new c}return u(t,[{key:"initialize",value:function(){var t=this,a=new Event("dcfAutoplayVideoToggle"),n=document.getElementsByClassName("dcf-autoplay-video");Array.prototype.forEach.call(n,function(n){var o=document.createElement("button");if(t.theme.toggleBtnClassList){var l;(l=o.classList).add.apply(l,e(t.theme.toggleBtnClassList))}o.classList.add("dcf-btn-autoplay-video-toggle"),t.isPlaying()?(o.setAttribute("aria-label","pause autoplay video"),o.innerHTML=t.theme.togglePauseBtnInnerHTML):(o.setAttribute("aria-label","play autoplay video"),o.innerHTML=t.theme.togglePlayBtnInnerHTML),o.addEventListener("click",function(){t.isPlaying()?(t.pauseAll(),window.localStorage.setItem("dcfAutoplayVideoToggleStatus",t.pausedStatus())):(t.playAll(),window.localStorage.setItem("dcfAutoplayVideoToggleStatus",t.playStatus())),window.dispatchEvent(a)}),n.append(o),window.addEventListener("dcfAutoplayVideoToggle",function(){t.isPlaying()?(o.setAttribute("aria-label","pause autoplay video"),o.innerHTML=t.theme.togglePauseBtnInnerHTML):(o.setAttribute("aria-label","play autoplay video"),o.innerHTML=t.theme.togglePlayBtnInnerHTML)})});var o=document.getElementsByTagName("video");Array.prototype.forEach.call(o,function(e){t.isAutoplayVideo(e)&&t.autoplayVideos.push(e)}),this.isPlaying()?(this.playAll(),window.localStorage.setItem("dcfAutoplayVideoToggleStatus",this.playStatus())):this.pauseAll()}},{key:"playStatus",value:function(){return"play"}},{key:"pausedStatus",value:function(){return"paused"}},{key:"isPlaying",value:function(){return window.localStorage.getItem("dcfAutoplayVideoToggleStatus")!==this.pausedStatus()}},{key:"playAll",value:function(){Array.prototype.forEach.call(this.autoplayVideos,function(t){t.play()})}},{key:"pauseAll",value:function(){Array.prototype.forEach.call(this.autoplayVideos,function(t){t.pause()})}},{key:"isAutoplayVideo",value:function(t){return t.hasAttribute("autoplay")&&t.hasAttribute("muted")&&t.hasAttribute("playsinline")}}]),t}();t.DCFAutoplayVideoToggle=d});
//# sourceMappingURL=dcf-autoplayVideoToggle.js.map