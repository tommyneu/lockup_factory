define("dcf-autoplayVideoToggle",["exports"],function(e){"use strict";function t(e){return i(e)||o(e)||n(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return l(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(e,t):void 0}}function o(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function i(e){if(Array.isArray(e))return l(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,a){return t&&c(e.prototype,t),a&&c(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(e,"__esModule",{value:!0}),e.DCFAutoplayVideoToggleTheme=e.DCFAutoplayVideoToggle=void 0;var u=function(){function e(){r(this,e),this.toggleBtnClassList=["dcf-btn-autoplay-video-toggle","dcf-btn","dcf-btn-primary","dcf-z-1","dcf-absolute","dcf-bottom-0","dcf-right-0","dcf-d-flex","dcf-ai-center","dcf-jc-center","dcf-mb-3","dcf-mr-3","dcf-h-7","dcf-w-7","dcf-p-0","dcf-circle"],this.togglePlayBtnInnerHTML='<svg class="dcf-h-4 dcf-w-4 dcf-fill-current" width="24" height="24" viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path d="M21.759 11.577L2.786.077a.499.499 0 0 0-.759.428v23a.498.498 0 0 0 .5.5c.09 0 .18-.024.259-.072l18.973-11.5a.5.5 0 0 0 0-.856z"></path></svg>',this.togglePauseBtnInnerHTML='<svg class="dcf-h-4 dcf-w-4 dcf-fill-current" width="24" height="24" viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path d="M10.5 0h-5C5.224 0 5 .224 5 .5v23C5 23.776 5.224 24 5.5 24h5c.276 0 .5-.224.5-.5v-23C11 .224 10.776 0 10.5 0zM18.5 0h-5C13.224 0 13 .224 13 .5v23c0 .276.224.5.5.5h5c.276 0 .5-.224.5-.5v-23C19 .224 18.776 0 18.5 0z"></path></svg>'}return s(e,[{key:"setThemeVariable",value:function(e,t){switch(e){case"toggleBtnClassList":Array.isArray(t)&&(this.toggleBtnClassList=t);break;case"togglePlayBtnInnerHTML":"string"==typeof t&&(this.togglePlayBtnInnerHTML=t);break;case"togglePauseBtnInnerHTML":"string"==typeof t&&(this.togglePauseBtnInnerHTML=t)}}}]),e}();e.DCFAutoplayVideoToggleTheme=u;var d=function(){function e(t){r(this,e),this.autoplayVideos=[],this.theme=t instanceof u?t:new u}return s(e,[{key:"initialize",value:function(){var e=this,a=new Event("dcfAutoplayVideoToggle"),n=document.getElementsByClassName("dcf-autoplay-video");Array.prototype.forEach.call(n,function(n){var o=document.createElement("button");if(e.theme.toggleBtnClassList){var i;(i=o.classList).add.apply(i,t(e.theme.toggleBtnClassList))}o.classList.add("dcf-btn-autoplay-video-toggle"),e.isPlaying()?(o.setAttribute("aria-label","pause autoplay video"),o.innerHTML=e.theme.togglePauseBtnInnerHTML):(o.setAttribute("aria-label","play autoplay video"),o.innerHTML=e.theme.togglePlayBtnInnerHTML),o.addEventListener("click",function(){e.isPlaying()?(e.pauseAll(),window.localStorage.setItem("dcfAutoplayVideoToggleStatus",e.pausedStatus())):(e.playAll(),window.localStorage.setItem("dcfAutoplayVideoToggleStatus",e.playStatus())),window.dispatchEvent(a)}),n.append(o),window.addEventListener("dcfAutoplayVideoToggle",function(){e.isPlaying()?(o.setAttribute("aria-label","pause autoplay video"),o.innerHTML=e.theme.togglePauseBtnInnerHTML):(o.setAttribute("aria-label","play autoplay video"),o.innerHTML=e.theme.togglePlayBtnInnerHTML)})});var o=document.getElementsByTagName("video");Array.prototype.forEach.call(o,function(t){e.isAutoplayVideo(t)&&e.autoplayVideos.push(t)}),this.isPlaying()?(this.playAll(),window.localStorage.setItem("dcfAutoplayVideoToggleStatus",this.playStatus())):this.pauseAll()}},{key:"playStatus",value:function(){return"play"}},{key:"pausedStatus",value:function(){return"paused"}},{key:"isPlaying",value:function(){return window.localStorage.getItem("dcfAutoplayVideoToggleStatus")!==this.pausedStatus()}},{key:"playAll",value:function(){Array.prototype.forEach.call(this.autoplayVideos,function(e){e.play()})}},{key:"pauseAll",value:function(){Array.prototype.forEach.call(this.autoplayVideos,function(e){e.pause()})}},{key:"isAutoplayVideo",value:function(e){return e.hasAttribute("autoplay")&&e.hasAttribute("muted")&&e.hasAttribute("playsinline")}}]),e}();e.DCFAutoplayVideoToggle=d}),require(["dcf-autoplayVideoToggle"],function(e){var t=new e.DCFAutoplayVideoToggleTheme;t.setThemeVariable("toggleBtnClassList",["dcf-btn-autoplay-video-toggle","dcf-btn","dcf-btn-primary","dcf-z-1","dcf-absolute","dcf-pin-bottom","dcf-pin-right","dcf-d-flex","dcf-ai-center","dcf-jc-center","dcf-mb-3","dcf-mr-3","dcf-h-7","dcf-w-7","dcf-p-0","dcf-circle"]),t.setThemeVariable("togglePlayBtnInnerHTML",'<svg class="dcf-h-4 dcf-w-4 dcf-fill-current" width="24" height="24" viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path d="M21.759 11.577L2.786.077a.499.499 0 0 0-.759.428v23a.498.498 0 0 0 .5.5c.09 0 .18-.024.259-.072l18.973-11.5a.5.5 0 0 0 0-.856z"></path></svg>'),t.setThemeVariable("togglePauseBtnInnerHTML",'<svg class="dcf-h-4 dcf-w-4 dcf-fill-current" width="24" height="24" viewBox="0 0 24 24" focusable="false" aria-hidden="true"><path d="M10.5 0h-5C5.224 0 5 .224 5 .5v23C5 23.776 5.224 24 5.5 24h5c.276 0 .5-.224.5-.5v-23C11 .224 10.776 0 10.5 0zM18.5 0h-5C13.224 0 13 .224 13 .5v23c0 .276.224.5.5.5h5c.276 0 .5-.224.5-.5v-23C19 .224 18.776 0 18.5 0z"></path></svg>'),new e.DCFAutoplayVideoToggle(t).initialize()}),define("autoplay-videos",function(){});
//# sourceMappingURL=autoplay-videos.js.map