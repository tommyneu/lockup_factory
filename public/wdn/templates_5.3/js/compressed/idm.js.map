{"version":3,"sources":["?"],"names":["define","WDN","ready","DropDownWidget","require","getLinkByRel","name","document","querySelector","getLocalIdmSettings","loginLink","logoutLink","setPluginParam","getAttribute","getPluginParam","encLoc","encodeURIComponent","window","location","logoutURL","loginSrv","loginURL","user","sessionUser","getUserField","field","getUser","uid","Promise","resolve","reject","xhr","XMLHttpRequest","open","send","onreadystatechange","readyState","DONE","status","JSON","parse","responseText","Error","appendUserDepartment","org_unit","length","getUserData","extras","callback","then","department","Plugin","formatUser","getSessionUserData","initialize","loginCheckFailure","localSettings","login","setLoginURL","renderAsLoggedOut","cookie","getCookie","idm","setSessionUser","isLoggedIn","renderAsLoggedIn","logout","newUser","setUser","userinfo","data","unlID","getUserId","firstName","getFirstName","lastName","getLastName","fullName","displayName","getDisplayName","emailAddress","getEmailAddress","postalAddress","getPostalAddress","phoneNumber","getTelephoneNumber","title","getTitle","orgUnitNumber","getPrimaryHROrgUnitNumber","orgUnitName","primaryAffiliation","getPrimaryAffiliation","avatar","imageURL","profileUrl","getProfileURL","getSessionUser","getSessionUserExtras","setCookie","disp_name","eduPersonNickname","givenName","this","planetred_uid","substring","replace","planetRed","_this","widgetContainers","querySelectorAll","i","button","createElement","classList","add","setAttribute","img","appendChild","innerText","optionsContainer","hidden","navUL","profileLI","profileLink","logoutLI","loggedOutContainer","loggedInContainer","innerHTML","closeNavEvent","CustomEvent","closeSearchEvent","addEventListener","e","detail","type","dispatchEvent","removeEventListener","setLogoutURL","Event","url"],"mappings":"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","file":"idm.js"}