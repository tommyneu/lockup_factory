{"version":3,"sources":["dcf-autoplayVideoToggle.js","autoplay-videos.js"],"names":["define","_exports","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","value","DCFAutoplayVideoToggleTheme","DCFAutoplayVideoToggle","this","toggleBtnClassList","togglePlayBtnInnerHTML","togglePauseBtnInnerHTML","themeVariableName","theme","autoplayVideos","_this","toggleEvent","Event","autoplayVideoContainers","document","getElementsByClassName","forEach","container","toggleBtn","createElement","_toggleBtn$classList","classList","add","apply","isPlaying","setAttribute","innerHTML","addEventListener","pauseAll","window","localStorage","setItem","pausedStatus","playAll","playStatus","dispatchEvent","append","videos","getElementsByTagName","video","isAutoplayVideo","push","getItem","play","pause","hasAttribute","require","DCFAutoplayVideoToggleModule","setThemeVariable","initialize"],"mappings":"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","file":"autoplay-videos.js","sourcesContent":["define('dcf-autoplayVideoToggle',[\"exports\"], function (_exports) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.DCFAutoplayVideoToggleTheme = _exports.DCFAutoplayVideoToggle = void 0;\n\n  function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\n  function _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\n  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\n  function _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\n  function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\n  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\n  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n  var DCFAutoplayVideoToggleTheme = /*#__PURE__*/function () {\n    function DCFAutoplayVideoToggleTheme() {\n      _classCallCheck(this, DCFAutoplayVideoToggleTheme);\n\n      // Defaults\n\n      /* eslint-disable */\n      this.toggleBtnClassList = ['dcf-btn-autoplay-video-toggle', 'dcf-btn', 'dcf-btn-primary', 'dcf-z-1', 'dcf-absolute', 'dcf-bottom-0', 'dcf-right-0', 'dcf-d-flex', 'dcf-ai-center', 'dcf-jc-center', 'dcf-mb-3', 'dcf-mr-3', 'dcf-h-7', 'dcf-w-7', 'dcf-p-0', 'dcf-circle'];\n      this.togglePlayBtnInnerHTML = '<svg class=\"dcf-h-4 dcf-w-4 dcf-fill-current\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" focusable=\"false\" aria-hidden=\"true\"><path d=\"M21.759 11.577L2.786.077a.499.499 0 0 0-.759.428v23a.498.498 0 0 0 .5.5c.09 0 .18-.024.259-.072l18.973-11.5a.5.5 0 0 0 0-.856z\"></path></svg>';\n      this.togglePauseBtnInnerHTML = '<svg class=\"dcf-h-4 dcf-w-4 dcf-fill-current\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" focusable=\"false\" aria-hidden=\"true\"><path d=\"M10.5 0h-5C5.224 0 5 .224 5 .5v23C5 23.776 5.224 24 5.5 24h5c.276 0 .5-.224.5-.5v-23C11 .224 10.776 0 10.5 0zM18.5 0h-5C13.224 0 13 .224 13 .5v23c0 .276.224.5.5.5h5c.276 0 .5-.224.5-.5v-23C19 .224 18.776 0 18.5 0z\"></path></svg>';\n      /* eslint-enable */\n    }\n\n    _createClass(DCFAutoplayVideoToggleTheme, [{\n      key: \"setThemeVariable\",\n      value: function setThemeVariable(themeVariableName, value) {\n        switch (themeVariableName) {\n          case 'toggleBtnClassList':\n            if (Array.isArray(value)) {\n              this.toggleBtnClassList = value;\n            }\n\n            break;\n\n          case 'togglePlayBtnInnerHTML':\n            if (typeof value === 'string') {\n              this.togglePlayBtnInnerHTML = value;\n            }\n\n            break;\n\n          case 'togglePauseBtnInnerHTML':\n            if (typeof value === 'string') {\n              this.togglePauseBtnInnerHTML = value;\n            }\n\n            break;\n\n          default:\n            // Invalid variable so ignore\n            break;\n        }\n      }\n    }]);\n\n    return DCFAutoplayVideoToggleTheme;\n  }();\n\n  _exports.DCFAutoplayVideoToggleTheme = DCFAutoplayVideoToggleTheme;\n\n  var DCFAutoplayVideoToggle = /*#__PURE__*/function () {\n    function DCFAutoplayVideoToggle(theme) {\n      _classCallCheck(this, DCFAutoplayVideoToggle);\n\n      this.autoplayVideos = [];\n\n      if (theme instanceof DCFAutoplayVideoToggleTheme) {\n        this.theme = theme;\n      } else {\n        this.theme = new DCFAutoplayVideoToggleTheme();\n      }\n    }\n\n    _createClass(DCFAutoplayVideoToggle, [{\n      key: \"initialize\",\n      value: function initialize() {\n        var _this = this;\n\n        var toggleEvent = new Event('dcfAutoplayVideoToggle'); // Add play/pause button to containers\n\n        var autoplayVideoContainers = document.getElementsByClassName('dcf-autoplay-video');\n        Array.prototype.forEach.call(autoplayVideoContainers, function (container) {\n          var toggleBtn = document.createElement('button'); // Add theme classes to button\n\n          if (_this.theme.toggleBtnClassList) {\n            var _toggleBtn$classList;\n\n            (_toggleBtn$classList = toggleBtn.classList).add.apply(_toggleBtn$classList, _toConsumableArray(_this.theme.toggleBtnClassList));\n          } // make sure button always has this class\n\n\n          toggleBtn.classList.add('dcf-btn-autoplay-video-toggle');\n\n          if (_this.isPlaying()) {\n            toggleBtn.setAttribute('aria-label', 'pause autoplay video');\n            toggleBtn.innerHTML = _this.theme.togglePauseBtnInnerHTML;\n          } else {\n            toggleBtn.setAttribute('aria-label', 'play autoplay video');\n            toggleBtn.innerHTML = _this.theme.togglePlayBtnInnerHTML;\n          }\n\n          toggleBtn.addEventListener('click', function () {\n            if (_this.isPlaying()) {\n              _this.pauseAll();\n\n              window.localStorage.setItem('dcfAutoplayVideoToggleStatus', _this.pausedStatus());\n            } else {\n              _this.playAll();\n\n              window.localStorage.setItem('dcfAutoplayVideoToggleStatus', _this.playStatus());\n            }\n\n            window.dispatchEvent(toggleEvent);\n          });\n          container.append(toggleBtn);\n          window.addEventListener('dcfAutoplayVideoToggle', function () {\n            if (_this.isPlaying()) {\n              // show pause button\n              toggleBtn.setAttribute('aria-label', 'pause autoplay video');\n              toggleBtn.innerHTML = _this.theme.togglePauseBtnInnerHTML;\n            } else {\n              // show play button\n              toggleBtn.setAttribute('aria-label', 'play autoplay video');\n              toggleBtn.innerHTML = _this.theme.togglePlayBtnInnerHTML;\n            }\n          });\n        });\n        var videos = document.getElementsByTagName('video');\n        Array.prototype.forEach.call(videos, function (video) {\n          if (_this.isAutoplayVideo(video)) {\n            _this.autoplayVideos.push(video);\n          }\n        });\n\n        if (this.isPlaying()) {\n          this.playAll();\n          window.localStorage.setItem('dcfAutoplayVideoToggleStatus', this.playStatus());\n        } else {\n          this.pauseAll();\n        }\n      }\n    }, {\n      key: \"playStatus\",\n      value: function playStatus() {\n        return 'play';\n      }\n    }, {\n      key: \"pausedStatus\",\n      value: function pausedStatus() {\n        return 'paused';\n      }\n    }, {\n      key: \"isPlaying\",\n      value: function isPlaying() {\n        return window.localStorage.getItem('dcfAutoplayVideoToggleStatus') !== this.pausedStatus();\n      }\n    }, {\n      key: \"playAll\",\n      value: function playAll() {\n        Array.prototype.forEach.call(this.autoplayVideos, function (video) {\n          video.play();\n        });\n      }\n    }, {\n      key: \"pauseAll\",\n      value: function pauseAll() {\n        Array.prototype.forEach.call(this.autoplayVideos, function (video) {\n          video.pause();\n        });\n      }\n    }, {\n      key: \"isAutoplayVideo\",\n      value: function isAutoplayVideo(video) {\n        return video.hasAttribute('autoplay') && video.hasAttribute('muted') && video.hasAttribute('playsinline');\n      }\n    }]);\n\n    return DCFAutoplayVideoToggle;\n  }();\n\n  _exports.DCFAutoplayVideoToggle = DCFAutoplayVideoToggle;\n});\n\n","\"use strict\";\n\nrequire(['dcf-autoplayVideoToggle'], function (DCFAutoplayVideoToggleModule) {\n  var theme = new DCFAutoplayVideoToggleModule.DCFAutoplayVideoToggleTheme();\n  theme.setThemeVariable('toggleBtnClassList', ['dcf-btn-autoplay-video-toggle', 'dcf-btn', 'dcf-btn-primary', 'dcf-z-1', 'dcf-absolute', 'dcf-pin-bottom', 'dcf-pin-right', 'dcf-d-flex', 'dcf-ai-center', 'dcf-jc-center', 'dcf-mb-3', 'dcf-mr-3', 'dcf-h-7', 'dcf-w-7', 'dcf-p-0', 'dcf-circle']);\n  theme.setThemeVariable('togglePlayBtnInnerHTML', '<svg class=\"dcf-h-4 dcf-w-4 dcf-fill-current\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" focusable=\"false\" aria-hidden=\"true\"><path d=\"M21.759 11.577L2.786.077a.499.499 0 0 0-.759.428v23a.498.498 0 0 0 .5.5c.09 0 .18-.024.259-.072l18.973-11.5a.5.5 0 0 0 0-.856z\"></path></svg>');\n  theme.setThemeVariable('togglePauseBtnInnerHTML', '<svg class=\"dcf-h-4 dcf-w-4 dcf-fill-current\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" focusable=\"false\" aria-hidden=\"true\"><path d=\"M10.5 0h-5C5.224 0 5 .224 5 .5v23C5 23.776 5.224 24 5.5 24h5c.276 0 .5-.224.5-.5v-23C11 .224 10.776 0 10.5 0zM18.5 0h-5C13.224 0 13 .224 13 .5v23c0 .276.224.5.5.5h5c.276 0 .5-.224.5-.5v-23C19 .224 18.776 0 18.5 0z\"></path></svg>');\n  var autoplayVideoToggle = new DCFAutoplayVideoToggleModule.DCFAutoplayVideoToggle(theme);\n  autoplayVideoToggle.initialize();\n});\n\ndefine(\"autoplay-videos\", function(){});\n\n"]}