function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),DCFTabs=function(){function t(e){_classCallCheck(this,t),this.tabGroups=e,this.tabHashLookup={}}return _createClass(t,[{key:"switchTab",value:function(t,e,i,a){e.focus(),e.removeAttribute("tabindex"),e.setAttribute("aria-selected","true"),e.setAttribute("tabindex","0"),t.removeAttribute("aria-selected"),t.setAttribute("tabindex","-1");var r=Array.prototype.indexOf.call(i,e);a[Array.prototype.indexOf.call(i,t)].hidden=!0,a[r].hidden=!1,a[r].scrollIntoView(),this.setPageHash(e.getAttribute("href"))}},{key:"isHash",value:function(t){return t&&"#"===t.substr(DCFUtility.magicNumbers("int0"),DCFUtility.magicNumbers("int1"))}},{key:"setPageHash",value:function(t){var e=this.isHash(t)?t:" ";history.pushState?history.pushState(null,null,window.location.origin+window.location.pathname+e):location.hash=e}},{key:"displayTabByHash",value:function(){var t=window.location.hash;t&&this.tabHashLookup[t]&&this.tabHashLookup[t].click()}},{key:"initialize",value:function(){var t=this;Array.prototype.forEach.call(this.tabGroups,function(e){var i=e.querySelector(".dcf-tabs > ol, .dcf-tabs > ul"),a=i.querySelectorAll("a"),r=e.querySelectorAll(".dcf-tabs > div, .dcf-tabs > section"),n=DCFUtility.uuidv4();e.setAttribute("id",n.concat("-tab-group")),Array.prototype.forEach.call(a,function(e,s){e.classList.add("dcf-tab","dcf-d-block");var c=s+DCFUtility.magicNumbers("int1");e.setAttribute("id",n.concat("-tab-",c)),e.setAttribute("role","tab"),e.setAttribute("tabindex","-1"),e.parentNode.classList.add("dcf-tabs-list-item","dcf-mb-0"),e.parentNode.setAttribute("role","presentation"),t.isHash(e.getAttribute("href"))&&(t.tabHashLookup[e.getAttribute("href")]=e),e.addEventListener("click",function(e){e.preventDefault();var n=i.querySelector("[aria-selected]");e.currentTarget!==n&&t.switchTab(n,e.currentTarget,a,r)}),e.addEventListener("keydown",function(e){var i=Array.prototype.indexOf.call(a,e.currentTarget),n=0;e.which===DCFUtility.magicNumbers("arrowLeftCode")?n=i>DCFUtility.magicNumbers("int0")?i-DCFUtility.magicNumbers("int1"):a.length-DCFUtility.magicNumbers("int1"):e.which===DCFUtility.magicNumbers("arrowRightCode")?i<a.length-DCFUtility.magicNumbers("int1")&&(n=i+DCFUtility.magicNumbers("int1")):n=e.which===DCFUtility.magicNumbers("arrowDownCode")?"down":null,null!==n&&(e.preventDefault(),"down"===n?r[s].focus():a[n]&&t.switchTab(e.currentTarget,a[n],a,r))})}),Array.prototype.forEach.call(r,function(t,e){t.setAttribute("role","tabpanel"),t.setAttribute("tabindex","-1"),t.classList.add("dcf-tabs-panel"),t.setAttribute("aria-labelledby",a[e].id),t.hidden=!0,t.addEventListener("keydown",function(t){t.which===DCFUtility.magicNumbers("arrowUpCode")&&a[e].focus()})}),i.classList.add("dcf-tabs-list","dcf-list-bare","dcf-mb-0"),i.setAttribute("role","tablist"),a[DCFUtility.magicNumbers("int0")].removeAttribute("tabindex"),a[DCFUtility.magicNumbers("int0")].setAttribute("aria-selected","true"),r[DCFUtility.magicNumbers("int0")].hidden=!1}),window.addEventListener("hashchange",function(){t.displayTabByHash()}),this.displayTabByHash()}}]),t}();
//# sourceMappingURL=dcf-tabs.js.map